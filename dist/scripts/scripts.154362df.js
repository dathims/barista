"use strict";angular.module("goliathApp",["ui.router","ngSanitize","ngTouch","angular-carousel","vjs.video"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),a.state("home",{url:"/",controller:"MoviesCtrl",templateUrl:"views/home.html"}).state("player",{url:"/movies/:id",params:{id:null},controller:"MoviesCtrl",templateUrl:"views/player.html"}).state("shows",{url:"/shows",controller:"MoviesCtrl",templateUrl:"views/shows.html"}).state("movies",{url:"/movies",controller:"MoviesCtrl",templateUrl:"views/movies.html"}),c.html5Mode(!0)}]),angular.module("goliathApp").controller("MoviesCtrl",["$scope","$http","$rootScope","$stateParams",function(a,b,c,d){c.isLoad=!1,a.products=[];var e="https://spreadsheets.google.com/feeds/list/",f="?alt=json",g="/od6/public/values",h="1wcuIIt0LkPePVgFzViADJD07WrhAa-QNCSCCBywtHxM",i="13SOrx5_jlro0zNEXADBqzeMkdT7Nwp8xc954vZIKh64";if(b.get(e+i+g+f).success(function(b){c.isLoad=!0,a.products=b.feed.entry}).error(function(a){c.isLoad=!0,console.error(a)}),b.get(e+h+g+f).success(function(b){a.box=b.feed.entry,console.log(a.box)}).error(function(a){console.log(a)}),a.extractID=function(a){return a.split("/").pop()},d.id){var j="/"+d.id;b.get(e+h+g+j+f).success(function(b){c.isLoad=!0,a.article=b.entry,a.mediaToggle={sources:[{src:a.article.gsx$link.$t,type:"video/mp4"}],tracks:[{kind:"subtitles",label:"Français",src:a.article.gsx$subtitle.$t,srclang:"fr","default":!0}],poster:a.article.gsx$portrait.$t}}).error(function(a){c.isLoad=!0,console.error(a)})}a.video=function(b){a.source=b},console.log("$stateParams ->",d),a.track=d.sub}]),angular.module("goliathApp").run(["$templateCache",function(a){a.put("views/home.html",'<ul rn-carousel rn-carousel-controls rn-carousel-transition="fadeAndSlide" rn-carousel-buffered class="landing carousel-fade"> <li ng-repeat="product in products"> <div class="media-img" style="background-image:url({{product.gsx$img.$t}})"></div> <div class="carousel"> <span class="push">Popular content</span> <div class="denomination"> <h2 class="title">{{product.gsx$title.$t}}</h2> <span class="year" ng-hide="displayNode(product.gsx$type.$t)">{{product.gsx$type.$t}}</span> <span class="director" ng-hide="displayNode(product.gsx$director.$t)">{{product.gsx$director.$t}}</span> </div> <p class="description" ng-bind="product.gsx$description.$t"></p> <div class="linkTrailer"> <a ng-href="{{product.gsx$trailer.$t}}" class="trailer" ng-hide="displayNode(product.gsx$trailer.$t)"> ▸ Watch the trailer</a> <a ng-href="{{product.gsx$subtitle.$t}}" class="trailer" ng-hide="displayNode(product.gsx$subtitle.$t)"> ▸ Subtitle</a> <a ui-sref="player({url: product.gsx$link.$t})" class="hackit" ng-if="product.gsx$link.$t">Hack it</a> <span ng-href="" class="soon" ng-if="!product.gsx$link.$t">Coming soon</span> </div> </div> </li> </ul> <div class="search content-search"> ⚲ <input type="search" autocomplete="on" autofocus placeholder="search a movie" ng-model="searchText"> </div>'),a.put("views/movie.html",'<ul rn-carousel rn-carousel-controls rn-carousel-transition="fadeAndSlide" rn-carousel-buffered class="landing carousel-fade"> <li ng-repeat="product in products"> <div class="media-img" style="background-image:url({{product.gsx$img.$t}})"></div> <div class="carousel"> <span class="push">Popular content</span> <div class="denomination"> <h2 class="title">{{product.gsx$title.$t}}</h2> <span class="year" ng-hide="displayNode(product.gsx$type.$t)">{{product.gsx$type.$t}}</span> <span class="director" ng-hide="displayNode(product.gsx$director.$t)">{{product.gsx$director.$t}}</span> </div> <p class="description" ng-bind="product.gsx$description.$t"></p> <div class="linkTrailer"> <a ng-href="{{product.gsx$trailer.$t}}" class="trailer" ng-hide="displayNode(product.gsx$trailer.$t)"> ▸ Watch the trailer</a> <a ng-href="{{product.gsx$subtitle.$t}}" class="trailer" ng-hide="displayNode(product.gsx$subtitle.$t)"> ▸ Subtitle</a> <a ui-sref="player({url: product.gsx$link.$t})" class="hackit" ng-if="product.gsx$link.$t">Hack it</a> <span ng-href="" class="soon" ng-if="!product.gsx$link.$t">Coming soon</span> </div> </div> </li> </ul> <div class="search content-search"> ⚲ <input type="search" autocomplete="on" autofocus placeholder="search a movie" ng-model="searchText"> </div>'),a.put("views/movies.html",'<div class="content-box show-tv"> <h1 class="category">Movies</h1> <ul class="clearfix"> <li ng-repeat="movie in box | filter:searchText"> <a class="media-img" style="background-image:url({{movie.gsx$img.$t}})" ui-sref="player({id: extractID(movie.id.$t)})"></a> <div class="description-show"> <div class="denomination"> <h2 class="title">{{movie.gsx$title.$t}}</h2> <span class="year" ng-hide="displayNode(movie.gsx$type.$t)">{{movie.gsx$type.$t}}</span> </div> </div> </li> </ul> </div>'),a.put("views/player.html",'<div class="frame-page-article"> <video class="video-js vjs-default-skin video-full-with" controls preload="auto" type="video/mp4" codecs="&quot;a_ac3, avc&quot;" vjs-video vjs-media="mediaToggle"> </video> <div class="carousel article-content"> <span class="push">Details</span> <div class="denomination"> <h2 class="title">{{article.gsx$title.$t}}</h2> <span class="year" ng-hide="displayNode(article.gsx$type.$t)">{{article.gsx$type.$t}}</span> <span class="director" ng-hide="displayNode(article.gsx$director.$t)">{{article.gsx$director.$t}}</span> </div> <p class="description" ng-bind="article.gsx$description.$t"></p> <div class="linkTrailer"> <a ng-href="{{article.gsx$trailer.$t}}" class="trailer" ng-hide="displayNode(article.gsx$trailer.$t)"> ▸ Watch the trailer</a> <a ng-href="{{article.gsx$subtitle.$t}}" class="trailer" ng-hide="displayNode(article.gsx$subtitle.$t)"> ▸ French Subtitle </a> <a ng-href="{{article.gsx$link.$t}}" class="hackit" target="_blank" ng-if="article.gsx$link.$t">Download</a> <span ng-href="" class="soon" ng-if="!article.gsx$link.$t">Coming soon</span> </div> </div> </div>'),a.put("views/shows.html",'<div class="content-box show-tv"> <h1 class="category">Shows TV</h1> <ul class="clearfix"> <li ng-repeat="movie in box | filter:searchText"> <a class="media-img" style="background-image:url({{movie.gsx$img.$t}})" ui-sref="show({link: movie.gsx$link.$t})">{{movie.gsx$title.$t}}</a> <div class="description-show"> <div class="denomination"> <h2 class="title">{{movie.gsx$title.$t}}</h2> <span class="year" ng-hide="displayNode(movie.gsx$type.$t)">{{movie.gsx$type.$t}}</span> </div> </div> </li> </ul> </div>')}]);